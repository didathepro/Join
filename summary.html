<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="js/storage.js" defer ></script>
    <script src="js/w3-include.js" ></script>
    <script src="js/headerSidebar.js" defer ></script>
    <script src="js/loadData.js" defer ></script>
    <script src="js/greet.js" ></script>
    <script src="js/defaultTasks.js"></script>
    <link rel="stylesheet" href="css/summary.css" />
    <link rel="stylesheet" href="css/headerSidebar.css">
    <title>Summary</title>
    <link rel="icon" href="assets/img/joinblue.png" sizes="128x128" />
    <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
    crossorigin="anonymous"
  />
  </head>
  <body onload="initSummary();showNumbers();">
    <div w3-include-html="./headerSidebar.html"></div>

    <div class="summaryWrapper">
      <div class="main-header">
        <h1>Join 360</h1>
        <h4>Key Metrics at a Glance</h4>
      </div>
      <div class="main-container" onclick="contentToBoard()">
        <div class="left-content">
          <div class="first-container">
            <div class="mini-container">
              <div class="img-container">
                <svg
                  width="65"
                  height="65"
                  viewBox="0 0 25 25"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M3.16667 22.3332H5.03333L16.5333 10.8332L14.6667 8.9665L3.16667 20.4665V22.3332ZM22.2333 8.89984L16.5667 3.29984L18.4333 1.43317C18.9444 0.922059 19.5722 0.666504 20.3167 0.666504C21.0611 0.666504 21.6889 0.922059 22.2 1.43317L24.0667 3.29984C24.5778 3.81095 24.8444 4.42761 24.8667 5.14984C24.8889 5.87206 24.6444 6.48873 24.1333 6.99984L22.2333 8.89984ZM20.3 10.8665L6.16667 24.9998H0.5V19.3332L14.6333 5.19984L20.3 10.8665Z"
                    fill="white"
                  />
                </svg>
              </div>
              <div class="text-container">
                <h1 id="numberOfTasksToDo">1</h1>
                <h5>To-do</h5>
              </div>
            </div>
            <div class="mini-container">
              <div class="img-container">
                <svg
                  width="65"
                  height="65"
                  viewBox="0 0 38 30"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M4.02832 15.0001L15.2571 26.0662L33.9717 3.93408"
                    stroke="white"
                    stroke-width="7"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
              </div>
              <div class="text-container">
                <h1 id="numberOfDoneTasks">1</h1>
                <h5>Done</h5>
              </div>
            </div>
          </div>
          <div class="second-container">
            <div class="left-container mini-container">
              <div class="left-mini">
                <div class="img-container">
                  <img src="./assets/img/Prio alta.png" />
                </div>
                <div class="text-container">
                  <h1 id="numberOfUrgentTasks">1</h1>
                  <h5>Urgent</h5>
                </div>
              </div>
              <div class="right-mini">
                <h6 id="urgentTaskDate">October 16, 2022</h6>
                <p>Upcoming deadline</p>
              </div>
            </div>
          </div>
          <div class="third-container">
            <div class="third-mini">
              <div class="numberOfTasks"><h1 id="numberOfTasks">5</h1></div>
              <div class="text">
                Tasks in<br />
                Board
              </div>
            </div>
            <div class="third-mini">
              <div class="numberOfTasks"><h1 id="numberOfTasksInProgress">2</h1></div>
              <div class="text">Tasks in <br />Progress</div>
            </div>
            <div class="third-mini">
              <div class="numberOfTasks"><h1 id="numberOfTasksAwaitingFeedback">2</h1></div>
              <div class="text">Awaiting <br />Feedback</div>
            </div>
          </div>
        </div>

        <div class="right-content">
          <h1 class="greetingTime" id="greetingTime"><br /></h1>
          <h1><b id="nameSummary" class="blue"></b></h1>
        </div>
      </div>
    </div>
    <script>
      // Function to show left-content and hide right-content
      function showLeftContent() {
        document.querySelector('.left-content').style.display = 'block';
        document.querySelector('.main-header').style.display = 'flex';
        document.querySelector('.right-content').style.display = 'none';
      }

      // Function to show right-content for 3 seconds and then switch to left-content
      function showRightContentForThreeSeconds() {
        document.querySelector('.left-content').style.display = 'none';
        document.querySelector('.right-content').style.display = 'flex';
        document.querySelector('.main-header').style.display = 'none';

        // Wait for 1 seconds and then switch to left-content
        setTimeout(showLeftContent, 800);
      }

      // Check if viewport width is less than 1150px (mobile view)
      function checkMobileView() {
        if (window.innerWidth < 1150) {
          // Show right-content for 3 seconds
          showRightContentForThreeSeconds();
        } else {
          // Show left-content by default
          showLeftContent();
          document.querySelector('.right-content').style.display = 'flex';
        }
      }

      // Call checkMobileView initially when the page loads
      checkMobileView();

      // Listen for window resize events to handle changes in viewport width
      window.addEventListener('resize', checkMobileView);
    </script>
  </body>
</html>
